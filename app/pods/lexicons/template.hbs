<header class="workspace-header">

    <div class="workspace-mainInfos">
        <h2 class="workspace-title inline">Lexique</h2>

        <h3 class="workspace-breadcrumb">{{lexiconCollection.label}}</h3>
    </div>

    <div class="workspace-contextual">
        {{#link-to "lexicons.edit" lexiconCollection.atClass 'new' class="btn btn-info"}}<i class="icon-plus"></i>
            Ajouter{{/link-to}}
    </div>

</header>

<div>

{{#x-table data=model paginable=false pageInfo=pageInfo onRefresh="refresh" as |facet row self|}}
    {{#if facet.isThead}}

        {{#each lexiconCollection.columns as |column| }}
                {{#x-table.x-th sortPath=column.sortField
                    sortBy=pageInfo.sortBy sortOrder=pageInfo.sortOrder
                    onSort=(action 'sortBy' target=self)
                    width=column.width
                }}
                    {{column.label}}
                {{/x-table.x-th}}
        {{/each}}

            <th class="action-column">#</th>

        {{else if facet.isBodyRow}}
                <tr>

                    <td>{{row.libelle}}</td>

                    {{#if lexiconCollection.hasDefinition}}
                        <td>{{row.definition}}</td>
                    {{/if}}

                    {{#if lexiconCollection.hasFamille}}
                        <td>{{row.familleId.libelle}}</td>
                    {{/if}}

                    <td class="action-column">
                        {{#link-to "lexicons.edit" row.id class="btn btn-info" class="btn-action icon-edit"}}{{/link-to}}
                        <a {{action 'remove' row}} class="btn-action icon-trash"></a>
                    </td>

                </tr>
            {{else if facet.isNoResult}}
                    <tr>
                        <td class="no-result" colspan="100">Aucune valeur pour ce lexique</td>
                    </tr>
            {{/if}}
        {{/x-table}}
        </div>

        {{outlet}}